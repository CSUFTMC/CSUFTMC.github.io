import{c as i,o as t,d as o,q as M,n as _,b as a,t as u,i as v,F as y,r as g,g as D,w as I,e as j,h as L,T as S,s as q,f as z}from"./app-BzSfXGg1.js";import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";const f={management:[{username:"Ceceport",joinDate:"2025-11-18",role:"Admin",qq:"958630146",desc:"ç°ä»»æœä¸»ï¼Œè¿è¡Œå’Œç»´æŠ¤æœåŠ¡å™¨ã€‚æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿QQè”ç³»ã€‚",customInfo:[{label:"èŒä½",value:"æœåŠ¡å™¨ç®¡ç†å‘˜"},{label:"çŠ¶æ€",value:"æ´»è·ƒ"}]},{username:"Aragron_",role:"Admin",joinDate:"2025-11-18",desc:"æœåŠ¡å™¨ç®¡ç†å‘˜å…¼QQç¾¤ç¾¤ä¸»ã€‚",customInfo:[{label:"èŒä½",value:"æœåŠ¡å™¨ç®¡ç†å‘˜"},{label:"çŠ¶æ€",value:"ä½›ç³»"}]},{username:"Declan",role:"Admin",joinDate:"2025-11-18",desc:"ä¸Šä¸€ä»»æœåŠ¡å™¨æœä¸»ã€‚",customInfo:[{label:"èŒä½",value:"é€€ä¼‘å¹²éƒ¨"},{label:"çŠ¶æ€",value:"ä½›ç³»"}]}],members:[{username:"ovo_Chen",joinDate:"2025-12-16",customInfo:[{label:"çŠ¶æ€",value:"å¸¸é©»"}]},{username:"aasdfghjkl",joinDate:"2025-11-18",customInfo:[{label:"çŠ¶æ€",value:"æ´»è·ƒ"}]},{username:"CHYALING",role:"å»ºç­‘å¸ˆ",joinDate:"2025-11-18",desc:"æœåŠ¡å™¨å¾¡ç”¨å»ºç­‘å¸ˆã€‚",customInfo:[{label:"çŠ¶æ€",value:"å¸¸é©»"}]},{username:"Taoliu",joinDate:"2025-11-24",customInfo:[{label:"çŠ¶æ€",value:"ä½›ç³»"}]},{username:"LiUAuXe",joinDate:"2025-11-19",customInfo:[{label:"çŠ¶æ€",value:"ä½›ç³»"}]}]},P=[...f.management,...f.members],C=P.reduce((l,e)=>(l[e.username]=e,l),{}),x={name:"McProfile",props:{username:{type:String,default:""},playerProfile:{type:Object,default:null},showDetails:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:l=>["small","medium","large"].includes(l)}},data(){return{innerShow:!1}},computed:{isExternalMode(){return!!this.playerProfile},isVisible(){return this.isExternalMode?this.showDetails:this.innerShow},profile(){const l=this.isExternalMode?this.playerProfile.username:this.username,e=C[l]||{};return{username:l,role:"ç©å®¶",...e,...this.playerProfile||{}}},avatarUrl(){return this.profile.username?`https://nmsr.nickac.dev/face/${this.profile.username}`:""},roleBadgeStyle(){const l=(this.profile.role||"").toLowerCase();return["admin","owner","op","ç®¡ç†å‘˜","è…ç«¹"].includes(l)?{background:"rgba(220, 38, 38, 0.9)"}:["player","user","ç©å®¶","æˆå‘˜"].includes(l)?{background:"rgba(62, 175, 124, 0.9)"}:{background:"rgba(14, 165, 233, 0.9)"}}},methods:{closeModal(){this.innerShow=!1,this.$emit("update:showDetails",!1)},parseLink(l){if(typeof l!="string")return l;const e=/\[([^\]]+)\]\(([^)]+)\)/g;return l.replace(e,'<a href="$2" target="_blank" rel="noopener noreferrer" class="mc-link">$1</a>')}}},A={class:"mc-profile-outer"},T={class:"avatar-wrapper"},B=["src"],E={class:"mc-content"},Q={class:"mc-username"},V={key:0,class:"mc-meta"},H={key:0,class:"meta-row"},N={key:1,class:"meta-row"},U={key:1,class:"mc-custom-preview"},G={class:"c-label"},F=["innerHTML"],O={class:"mc-modal-card"},R={class:"modal-header"},X=["src"],Y={class:"modal-body"},J={class:"info-grid"},K={key:0,class:"grid-item"},W={key:1,class:"grid-item"},Z=["innerHTML"],$={key:0,class:"desc-section"},ee={class:"desc-text"},se={key:1,class:"slot-area"};function ae(l,e,c,p,m,s){return t(),i("div",A,[s.isExternalMode?o("v-if",!0):(t(),i("div",{key:0,class:_(["mc-card-trigger",`size-${c.size}`]),onClick:e[0]||(e[0]=r=>m.innerShow=!0)},[a("div",T,[a("img",{src:s.avatarUrl,alt:"Avatar",class:"mc-avatar","no-view":""},null,8,B)]),a("div",E,[a("span",Q,u(s.profile.username),1),c.size!=="small"?(t(),i("div",V,[s.profile.qq?(t(),i("div",H,[e[3]||(e[3]=a("span",{class:"meta-icon"},"ğŸ§",-1)),v(" "+u(s.profile.qq),1)])):o("v-if",!0),s.profile.joinDate?(t(),i("div",N,[e[4]||(e[4]=a("span",{class:"meta-icon"},"ğŸ“…",-1)),v(" "+u(s.profile.joinDate),1)])):o("v-if",!0)])):o("v-if",!0),c.size==="large"&&s.profile.customInfo&&s.profile.customInfo.length>0?(t(),i("div",U,[e[5]||(e[5]=a("div",{class:"divider"},null,-1)),(t(!0),i(y,null,g(s.profile.customInfo.slice(0,2),(r,n)=>(t(),i("div",{class:"custom-row",key:n},[a("span",G,u(r.label)+":",1),a("span",{class:"c-value",innerHTML:s.parseLink(r.value)},null,8,F)]))),128))])):o("v-if",!0)])],2)),M(S,{name:"fade-pop"},{default:D(()=>[s.isVisible?(t(),i("div",{key:0,class:"mc-modal-overlay",onClick:e[2]||(e[2]=I((...r)=>s.closeModal&&s.closeModal(...r),["self"]))},[a("div",O,[a("button",{class:"close-btn",onClick:e[1]||(e[1]=(...r)=>s.closeModal&&s.closeModal(...r))},"Ã—"),a("div",R,[a("img",{src:s.avatarUrl,class:"modal-avatar","no-view":""},null,8,X),a("h3",null,u(s.profile.username),1),a("span",{class:"role-badge",style:j(s.roleBadgeStyle)},u(s.profile.role||"Player"),5)]),a("div",Y,[a("div",J,[s.profile.qq?(t(),i("div",K,[e[6]||(e[6]=a("small",null,"QQ",-1)),e[7]||(e[7]=v()),a("span",null,u(s.profile.qq),1)])):o("v-if",!0),s.profile.joinDate?(t(),i("div",W,[e[8]||(e[8]=a("small",null,"åŠ å…¥æ—¶é—´",-1)),e[9]||(e[9]=v()),a("span",null,u(s.profile.joinDate),1)])):o("v-if",!0),(t(!0),i(y,null,g(s.profile.customInfo,(r,n)=>(t(),i("div",{class:"grid-item",key:n},[a("small",null,u(r.label),1),a("span",{innerHTML:s.parseLink(r.value)},null,8,Z)]))),128))]),s.profile.desc?(t(),i("div",$,[a("p",ee,u(s.profile.desc),1)])):o("v-if",!0),l.$slots.default?(t(),i("div",se,[L(l.$slots,"default",{},void 0,!0)])):o("v-if",!0)])])])):o("v-if",!0)]),_:3})])}const le=h(x,[["render",ae],["__scopeId","data-v-2b9e8dc0"]]),re={__name:"PlayerList",props:{username:{type:String,default:""},type:{type:String,default:""},role:{type:String,default:""},size:{type:String,default:"medium"}},setup(l){const e=l,c=q(()=>{const p=Object.values(f).flat(),m=new Map;p.forEach(r=>{r.username&&m.set(r.username,r)});const s=Array.from(m.values());if(e.username)return e.username.split(",").map(n=>n.trim()).map(n=>s.find(d=>d.username===n)).filter(n=>n);if(e.type&&e.type!=="all"){const r=e.type.split(",").map(d=>d.trim()),n=[];return r.forEach(d=>{f[d]&&n.push(...f[d])}),n.filter((d,b,k)=>k.findIndex(w=>w.username===d.username)===b)}if(e.role&&e.role!=="all"){const r=e.role.split(",").map(n=>n.trim());return s.filter(n=>n.role&&r.includes(n.role))}return s});return(p,m)=>(t(),i("div",{class:_(["player-list-wrapper",`list-size-${l.size}`])},[(t(!0),i(y,null,g(c.value,s=>(t(),z(le,{key:s.username,username:s.username,size:l.size},null,8,["username","size"]))),128))],2))}},ie=h(re,[["__scopeId","data-v-945bf22e"]]);export{le as M,ie as P,C as p};
